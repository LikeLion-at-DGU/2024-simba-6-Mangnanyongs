<!--
최상단 네비게이션을 구현한 topnav 입니다.
3개의 section으로 구분되어있습니다.
-->

<!-- 스타일 css import -->
{% load static %}
<link
  rel="stylesheet"
  type="text/css"
  href="{% static 'css/shared/topnav.css'%}"
/>

<div class="screen">
  <div class="topnav">
    <!-- 로그인 회원가입-->
    <section class="nav-1 header-font">
      <div class="div">
        <!-- 로그인을 한 경우 -->
        <section class="nav-2">
          <a class="Caption" href="">알아보기</a>
          <a class="Caption" href="">지원현황</a>
        </section>
        <a class="logo logo-font" href="/">
          <img src="{% static 'images/logo.svg' %}" />
          동국일개미
        </a>
        <section class="nav-3">
        {% if user.is_authenticated %}
        <a class="Caption" href="/accounts/logout/">로그아웃</a>
        <a class="Caption" href="/accounts/mypage/">MY</a>

        <!-- 로그인을 하지 않은 경우 -->
        {% else %}
        <a class="Caption gray" href="">회원가입</a>
        <!--회원가입 페이지-->
        <a class="Caption gray" href="">로그인</a>
        <!--로그인 페이지-->
        {% endif %}
        <a class="Caption bell">
          <img src="{% static 'images/icons/bell.svg' %}" />
        </a>
        </section>
      </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const currentPath = window.location.pathname;

    const navMenu = document.getElementById("nav-menu-list");
    const navMenuList = navMenu.children;

    Array.from(navMenuList).forEach(function (menu) {
      if (menu.href == "http://127.0.0.1:8000" + currentPath) {
        menu.style.color = "#5e0080";
      }
    });

    const searchBarInput = document.querySelector(".search-bar > input");
    searchBarInput.addEventListener("keydown", function (event) {
      if (event.key === "Enter") {
        event.preventDefault();
        const searchTerm = searchBarInput.value;
        alert("검색어: " + searchTerm);
      }
    });
  });
</script>
